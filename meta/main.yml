---
galaxy_info:
  author: Joerg Fiedler
  description: Provides a jailed Joomla server.
  license: BSD
  min_ansible_version: 2.0
  platforms:
    - name: FreeBSD
      versions:
        - 10.2
  galaxy_tags:
    - FreeBSD
    - jails
    - iocage
    - cloud
    - ec2
    - php-fpm
    - Joomla
    - nginx
allow_duplicates: yes
dependencies:
  - { role: JoergFiedler.freebsd-jailed-nginx,
      nginx_servers: [ {
        default: '{{ joomla_server_default }}',
        php_fpm_enabled: true,
        name: '{{ joomla_server_name }}',
        force_www: '{{ joomla_server_force_www }}',
        force_https: '{{ joomla_server_force_https | default("no") }}',
        aliases: '{{ joomla_server_aliases | default() }}',
        sftp: {
          uuid: '{{ joomla_sftp_uuid }}',
          authorized_keys: '{{ joomla_sftp_authorized_keys }}',
          port: '{{ joomla_sftp_port }}'
        }
      }]}
